name: "Auto PR Creation"
description: "Create a PR with sync value for an environment"
author: "Ankit Pradhan"
inputs:
  syncWith:
    required: false
    description: "Which environment to sync PR to"
    default: "development"
  branch:
    required: false
    description: "Branch to push it to if directPush is false"
    default: ""
  directPush:
    required: false
    description: "Directly push to main branch"
    default: "false"
  workDir:
    required: false
    description: "Working Directory"
    default: "."
  createPR:
    required: true
    description: "Create a PR"
  mainBranch:
    required: false
    description: "Main Branch for Repo"
    default: "main"
  targetBranch:
    required: false
    description: "target branch for PR"
    default: "main"
  repo:
    required: true
    description: "PowerLedger/tracex-kubernetes format"
  services:
    required: true
    description: "Comma Separated services value that were changed in the push"
  environment:
    required: true
    description: "Which Environment to Create PR for"
  message:
    required: true
    description: "Commit message for the value update"
  title:
    required: false
    description: "Title of the created pull request"
    default: ""
  description:
    required: false
    description: "Description of the created pull request"
    default: ""
  labels:
    required: true
    description: "Labels to Attach"
  token:
    required: false
    description: "GitHub AuthToken for Authorization"
    default: ${{ github.token }}

runs:
  using: "node16"
  main: "dist/main.js"
